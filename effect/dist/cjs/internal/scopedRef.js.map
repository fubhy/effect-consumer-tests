{"version":3,"file":"scopedRef.js","names":["Context","require","Function_js_1","Pipeable_js_1","effect","core","circular","fiberRuntime","ref","synchronized","ScopedRefSymbolKey","exports","ScopedRefTypeId","Symbol","for","scopedRefVariance","_A","_","close","self","flatMap","get","tuple","exitUnit","fromAcquire","acquire","uninterruptibleMask","restore","pipe","scopeMake","newScope","mapInputContext","add","scopeTag","onError","cause","exitFail","value","makeSynchronized","scopedRef","pipeArguments","arguments","addFinalizer","as","map","make","evaluate","sync","set","dual","flatten","modifyEffect","oldScope","exit","exitMatch","onFailure","ignore","failCause","onSuccess","unit"],"sources":["../../../src/internal/scopedRef.ts"],"sourcesContent":[null],"mappings":"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"}