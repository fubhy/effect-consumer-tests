{"version":3,"file":"query.js","names":["Duration_js_1","require","Function_js_1","GlobalValue_js_1","BlockedRequests","cache_js_1","cause_js_1","core","fiberRuntime_js_1","request_js_1","exports","currentCache","globalValue","Symbol","for","fiberRefUnsafeMake","unsafeMakeWith","map","deferredMake","handle","listeners","Listeners","seconds","currentCacheEnabled","fromRequest","request","dataSource","flatMap","isEffect","succeed","ds","fiberIdWith","id","proxy","Proxy","fiberRefGetWith","cacheEnabled","cache","getEither","orNew","_tag","left","increment","blocked","empty","exit","deferredAwait","isInterruptedOnly","cause","decrement","invalidateWhen","entry","ensuring","sync","right","single","makeEntry","result","ownerId","state","completed","uninterruptibleMask","restore","ref","cacheRequest","unit","deferredComplete","withRequestCaching","dual","self","strategy","fiberRefLocally","withRequestCache"],"sources":["../../../src/internal/query.ts"],"sourcesContent":[null],"mappings":"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"}