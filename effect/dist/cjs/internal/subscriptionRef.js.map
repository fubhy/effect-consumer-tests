{"version":3,"file":"subscriptionRef.js","names":["Effect","require","Function_js_1","Pipeable_js_1","PubSub","Ref","Synchronized","_circular","_ref","stream","SubscriptionRefSymbolKey","exports","SubscriptionRefTypeId","Symbol","for","subscriptionRefVariance","_A","_","SubscriptionRefImpl","ref","pubsub","semaphore","RefTypeId","refVariance","SynchronizedRefTypeId","synchronizedVariance","constructor","pipe","pipeArguments","arguments","changes","get","flatMap","a","map","fromPubSub","scoped","s","concat","make","withPermits","unwrapScoped","modify","f","modifyEffect","succeed","b","set","as","zipLeft","publish","self","value","all","unbounded","makeSemaphore","dual"],"sources":["../../../src/internal/subscriptionRef.ts"],"sourcesContent":[null],"mappings":"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"}