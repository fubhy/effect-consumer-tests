{"version":3,"file":"supervisor.js","names":["Function_js_1","require","GlobalValue_js_1","MutableRef","Predicate_js_1","SortedSet","core","SupervisorSymbolKey","exports","SupervisorTypeId","Symbol","for","supervisorVariance","_T","_","ProxySupervisor","underlying","value0","constructor","value","onStart","context","effect","parent","fiber","onEnd","onEffect","onSuspend","onResume","map","f","pipe","zip","right","Zip","left","_tag","isZip","self","hasProperty","isTagged","Track","fibers","Set","sync","Array","from","_context","_effect","_parent","add","_value","delete","_fiber","onRun","execution","Const","FibersIn","ref","get","set","remove","unsafeTrack","track","fromEffect","none","globalValue","unit","fibersIn"],"sources":["../../../src/internal/supervisor.ts"],"sourcesContent":[null],"mappings":"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"}