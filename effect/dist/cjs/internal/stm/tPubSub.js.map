{"version":3,"file":"tPubSub.js","names":["Effect","require","Function_js_1","HashSet","Option","RA","core","OpCodes","stm","tQueue","tRef","TPubSubSymbolKey","exports","TPubSubTypeId","Symbol","for","makeNode","head","subscribers","tail","TPubSubImpl","pubsubSize","publisherHead","publisherTail","requestedCapacity","strategy","subscriberCount","TEnqueueTypeId","tEnqueueVariance","constructor","isShutdown","effect","journal","currentPublisherTail","unsafeGet","undefined","awaitShutdown","flatMap","unit","retry","capacity","size","withSTMRuntime","runtime","interruptAs","fiberId","succeed","isEmpty","map","isFull","offer","value","currentSubscriberCount","currentPubSubSize","updatedPublisherTail","TRefImpl","updatedNode","unsafeSet","_tag","OP_BACKPRESSURE_STRATEGY","OP_DROPPING_STRATEGY","OP_SLIDING_STRATEGY","currentPublisherHead","loop","node","offerAll","iterable","forEach","a","every","identity","shutdown","currentSubscribers","subscriber","empty","TPubSubSubscriptionImpl","subscriberHead","TDequeueTypeId","tDequeueVariance","currentSubscriberHead","Number","MAX_SAFE_INTEGER","peek","peekOption","none","some","remove","take","takeAll","takeUpTo","POSITIVE_INFINITY","max","builder","n","push","makeTPubSub","pipe","all","make","makeSubscription","get","tap","_","set","add","self","bounded","BackPressure","dropping","Dropping","publish","dual","publishAll","sliding","Sliding","subscribe","subscribeScoped","acquireRelease","dequeue","unbounded"],"sources":["../../../../src/internal/stm/tPubSub.ts"],"sourcesContent":[null],"mappings":"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"}