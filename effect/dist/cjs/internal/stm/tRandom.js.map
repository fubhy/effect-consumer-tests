{"version":3,"file":"tRandom.js","names":["Context","require","Function_js_1","Layer","Random","core","stm","tArray","tRef","TRandomSymbolKey","exports","TRandomTypeId","Symbol","for","randomInteger","state","prng","PCGRandom","setState","integer","getState","randomIntegerBetween","low","high","randomNumber","number","withState","f","pipe","modify","shuffleWith","iterable","nextIntBounded","swap","buffer","index1","index2","get","flatMap","tmp","updateSTM","zipRight","update","fromIterable","array","i","length","push","forEach","n","k","discard","toArray","Tag","TRandomImpl","constructor","next","nextBoolean","succeed","nextInt","nextRange","min","max","nextIntBetween","shuffle","elements","live","effect","make","Math","random","map","seed","commit"],"sources":["../../../../src/internal/stm/tRandom.ts"],"sourcesContent":[null],"mappings":"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"}