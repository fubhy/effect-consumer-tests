{"version":3,"file":"tSemaphore.js","names":["Cause","require","Effect","Function_js_1","STM","core","tRef","TSemaphoreSymbolKey","exports","TSemaphoreTypeId","Symbol","for","TSemaphoreImpl","permits","constructor","make","map","acquire","self","acquireN","dual","n","withSTMRuntime","driver","IllegalArgumentException","value","unsafeGet","journal","retry","succeed","unsafeSet","available","get","release","releaseN","current","withPermit","semaphore","withPermits","uninterruptibleMask","restore","zipRight","commit","ensuring","withPermitScoped","withPermitsScoped","acquireReleaseInterruptible","unsafeMakeSemaphore","TRefImpl"],"sources":["../../../../src/internal/stm/tSemaphore.ts"],"sourcesContent":[null],"mappings":"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"}