{"version":3,"file":"logger.js","names":["Function_js_1","require","HashMap","List","LogSpan","Option","Pipeable_js_1","Cause","_fiberId","LoggerSymbolKey","exports","LoggerTypeId","Symbol","for","loggerVariance","_Message","_","_Output","makeLogger","log","pipe","pipeArguments","arguments","mapInput","dual","self","f","options","message","filterLogLevel","logLevel","some","none","map","constVoid","simple","succeed","value","sync","evaluate","zip","that","zipLeft","tuple","zipRight","stringLogger","annotations","cause","date","fiberId","spans","nowMillis","getTime","outputArray","toISOString","label","threadName","output","join","stringMessage","serializeUnknown","length","appendQuoted","_tag","pretty","isCons","first","span","render","size","key","filterKeyName","u","JSON","stringify","String","escapeDoubleQuotes","str","replace","textOnly","match","logfmtLogger","appendQuotedLogfmt","renderLogSpanLogfmt","escapeDoubleQuotesLogfmt","now","startTime"],"sources":["../../../src/internal/logger.ts"],"sourcesContent":[null],"mappings":"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"}