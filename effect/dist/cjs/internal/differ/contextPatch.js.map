{"version":3,"file":"contextPatch.js","names":["Chunk","require","Equal","Dual","context_js_1","data_js_1","exports","ContextPatchTypeId","Symbol","for","variance","a","PatchProto","Structural","prototype","_Value","_Patch","EmptyProto","Object","assign","create","_tag","_empty","empty","AndThenProto","makeAndThen","first","second","o","AddServiceProto","makeAddService","tag","service","RemoveServiceProto","makeRemoveService","UpdateServiceProto","makeUpdateService","update","diff","oldValue","newValue","missingServices","Map","unsafeMap","patch","newService","entries","has","old","get","delete","equals","combine","dual","self","that","context","wasServiceUpdated","patches","of","updatedContext","isNonEmpty","head","headNonEmpty","tail","tailNonEmpty","set","prepend","makeContext","map","s"],"sources":["../../../../src/internal/differ/contextPatch.ts"],"sourcesContent":[null],"mappings":"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"}