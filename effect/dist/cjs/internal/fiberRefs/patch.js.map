{"version":3,"file":"patch.js","names":["Equal_js_1","require","Function_js_1","Arr","_fiberRefs","exports","OP_EMPTY","OP_ADD","OP_REMOVE","OP_UPDATE","OP_AND_THEN","empty","_tag","diff","oldValue","newValue","missingLocals","Map","locals","patch","fiberRef","pairs","entries","headNonEmpty","old","get","undefined","equals","combine","value","delete","dual","self","that","first","second","fiberId","fiberRefs","patches","of","isNonEmptyReadonlyArray","head","tail","tailNonEmpty","updatedAs","delete_","getOrDefault","prepend"],"sources":["../../../../src/internal/fiberRefs/patch.ts"],"sourcesContent":[null],"mappings":"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"}