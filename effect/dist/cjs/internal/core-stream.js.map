{"version":3,"file":"core-stream.js","names":["Cause","require","Chunk","Effect","Either","Function_js_1","Option","Pipeable_js_1","Predicate_js_1","childExecutorDecision","continuation_js_1","upstreamPullStrategy","OpCodes","ChannelSymbolKey","exports","ChannelTypeId","Symbol","for","channelVariance","_Env","_","_InErr","_InElem","_InDone","_OutErr","_OutElem","_OutDone","proto","pipe","pipeArguments","arguments","isChannel","u","hasProperty","isEffect","acquireReleaseOut","dual","self","release","op","Object","create","_tag","OP_BRACKET_OUT","acquire","finalizer","catchAllCause","f","OP_FOLD","channel","k","ContinuationKImpl","succeed","collectElements","suspend","builder","flatMap","pipeTo","collectElementsReader","value","sync","fromIterable","readWith","onInput","outElem","push","onFailure","fail","onDone","succeedNow","concatAll","channels","concatAllWith","constVoid","g","OP_CONCAT_ALL","combineInners","combineAll","onPull","PullAfterNext","none","onEmit","Continue","identity","concatMapWith","h","concatMapWithCustom","embedInput","input","OP_BRIDGE","ensuringWith","OP_ENSURING","error","failCause","failSync","evaluate","failCauseSync","cause","OP_FAIL","foldCauseChannel","options","onSuccess","fromEffect","effect","OP_FROM_EFFECT","that","OP_PIPE_TO","left","right","provideContext","env","OP_PROVIDE","context","inner","readOrFail","OP_READ","more","done","readWithCause","match","failureOrCause","onLeft","onRight","result","OP_SUCCEED_NOW","terminal","OP_SUSPEND","OP_SUCCEED","unit","write","out","OP_EMIT"],"sources":["../../../src/internal/core-stream.ts"],"sourcesContent":[null],"mappings":"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"}