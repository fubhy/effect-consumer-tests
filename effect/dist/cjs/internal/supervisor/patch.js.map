{"version":3,"file":"patch.js","names":["Chunk","require","Differ","Equal","Function_js_1","HashSet","supervisor","exports","OP_EMPTY","OP_ADD_SUPERVISOR","OP_REMOVE_SUPERVISOR","OP_AND_THEN","empty","_tag","combine","self","that","first","second","patch","patchLoop","of","_supervisor","_patches","patches","isNonEmpty","head","headNonEmpty","tailNonEmpty","zip","removeSupervisor","prepend","equals","none","isZip","left","right","toSet","pipe","union","make","diff","oldValue","newValue","oldSupervisors","newSupervisors","added","difference","reduce","removed","differ"],"sources":["../../../../src/internal/supervisor/patch.ts"],"sourcesContent":[null],"mappings":"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"}