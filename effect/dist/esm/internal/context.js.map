{"version":3,"file":"context.js","names":["Equal","dual","globalValue","Hash","NodeInspectSymbol","toJSON","toString","pipeArguments","hasProperty","EffectPrototype","effectVariance","option","TagTypeId","Symbol","for","STMSymbolKey","STMTypeId","TagProto","_tag","_op","_S","_","_I","_id","identifier","stack","of","self","context","make","tagRegistry","Map","makeTag","has","get","limit","Error","stackTraceLimit","creationError","tag","Object","create","defineProperty","set","TypeId","ContextProto","symbol","that","isContext","unsafeMap","size","k","keys","equals","number","pipe","arguments","services","Array","from","map","makeContext","serviceNotFoundError","error","String","lines","split","length","afterAt","match","message","splice","join","u","isTag","_empty","empty","service","add","unsafeGet","getOption","none","some","merge","s","pick","tags","tagSet","Set","newEnv","entries","omit","delete"],"sources":["../../../src/internal/context.ts"],"sourcesContent":[null],"mappings":"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"}