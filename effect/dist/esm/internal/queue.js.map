{"version":3,"file":"queue.js","names":["Chunk","dual","pipe","MutableQueue","MutableRef","Option","pipeArguments","hasProperty","ReadonlyArray","core","fiberRuntime","EnqueueSymbolKey","EnqueueTypeId","Symbol","for","DequeueSymbolKey","DequeueTypeId","QueueStrategySymbolKey","QueueStrategyTypeId","queueStrategyVariance","_A","_","enqueueVariance","_In","dequeueVariance","_Out","QueueImpl","queue","takers","shutdownHook","shutdownFlag","strategy","constructor","arguments","capacity","size","suspend","catchAll","unsafeSize","interrupt","get","none","some","length","surplusSize","isEmpty","map","isFull","shutdown","uninterruptible","withFiberRuntime","state","set","forEachParUnboundedDiscard","unsafePollAll","d","deferredInterruptWith","id","zipRight","whenEffect","deferredSucceed","asUnit","isShutdown","sync","awaitShutdown","deferredAwait","isActive","unsafeOffer","value","noRemaining","taker","poll","EmptyMutableQueue","unsafeCompleteDeferred","succeeded","offer","unsafeCompleteTakers","succeed","handleSurplus","offerAll","iterable","values","fromIterable","pTakers","unsafePollN","empty","forTakers","remaining","splitAt","i","item","surplus","take","unsafeOnQueueEmptySpace","deferred","deferredUnsafeMake","onInterrupt","unsafeRemove","takeAll","pollUpTo","Number","POSITIVE_INFINITY","takeUpTo","max","takeBetween","min","takeRemainderLoop","self","acc","flatMap","bs","b","appendAll","append","isQueue","u","isEnqueue","isDequeue","bounded","requestedCapacity","make","backingQueueFromMutableQueue","backPressureStrategy","dropping","droppingStrategy","sliding","slidingStrategy","unbounded","unsafeMake","deferredMake","BackingQueueFromMutableQueue","mutable","def","limit","elements","element","head","takeN","n","BackPressureStrategy","DroppingStrategy","SlidingStrategy","putters","onCompleteTakersWithEmptyQueue","putter","fiberId","isLastItem","unit","keepPolling","offered","unsafeOfferAll","prepend","stuff","Array","from","filter","_iterable","_queue","_takers","_isShutdown","iterator","next","offering","done","a","deferredUnsafeDone","as"],"sources":["../../../src/internal/queue.ts"],"sourcesContent":[null],"mappings":"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"}